{"version":3,"sources":["components/Searchbar/SearchBar.jsx","services/api-service.js","App.js","index.js"],"names":["SearchBar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","placeholder","onChange","Component","fetchGallery","searchQuery","currentPage","per_page","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","App","images","isLoading","error","onChangeQuery","options","Api","prevState","catch","finally","prevProps","map","id","webformatURL","tags","src","alt","length","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2OAwCeA,E,4MAnCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAACH,MAAOE,EAAME,cAAcC,S,EAG5CC,aAAe,SAAAJ,GACbA,EAAMK,iBACN,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAACH,MAAO,M,4CAIxB,WACE,OACA,wBAAQU,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaD,SAAUE,KAAKL,aAA5C,UACE,wBAAQM,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OAELC,YAAY,2BACZR,MAAOM,KAAKZ,MAAMC,MAClBc,SAAUH,KAAKV,wB,GA5BDc,a,iCCElBC,EAAe,SAAC,GAAwD,IAAD,IAAtDC,mBAAsD,MAAxC,GAAwC,MAApCC,mBAAoC,MAAtB,EAAsB,MAAnBC,gBAAmB,MAAR,GAAQ,EAC3E,OAAOC,IACNC,IADM,UAHQ,2BAGR,cAEYJ,EAFZ,iBAEgCC,EAFhC,gBAJO,qCAIP,6DAE+GC,IAEnHG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,SAGpCT,EAAaU,UAAY,CACvB1B,MAAO2B,IAAUC,OAAOC,WACxBX,YAAaS,IAAUG,OAAOD,YAGjB,MAACb,EC+DDe,E,4MAzEfhC,MAAQ,CACNiC,OAAQ,GACRd,YAAa,EACbD,YAAa,GACbgB,WAAW,EACXC,MAAO,M,EAgBTC,cAAgB,SAAAnC,GACd,EAAKG,SAAS,CAACc,YAAajB,EAAOkB,YAAa,EAAGc,OAAQ,GAAIE,MAAO,Q,EAMxElB,aAAe,WAAO,IAAD,EACgB,EAAKjB,MAAjCmB,EADY,EACZA,YACDkB,EAAU,CAACnB,YAFE,EACCA,YACUC,eAEhC,EAAKf,SAAS,CAAC8B,WAAW,IAEzBI,EAAiBD,GAASd,MAAK,SAAAG,GACpB,EAAKtB,UAAS,SAAAmC,GAAS,MAAK,CAC1BN,OAAO,GAAD,mBAAMM,EAAUN,QAAhB,YAA2BP,IACjCP,YAAaoB,EAAUpB,YAAc,SAE5CqB,OAAM,SAAAL,GAAK,OAAI,EAAK/B,SAAS,CAAC+B,aACpCM,SAAQ,kBAAM,EAAKrC,SAAS,CAAC8B,WAAW,Q,uDA7BzC,c,gCAIA,SAAmBQ,EAAWH,GACzBA,EAAUrB,cAAgBN,KAAKZ,MAAMkB,aACtCN,KAAKK,iB,oBA2BT,WAAU,IAAD,EAC4BL,KAAKZ,MAAjCiC,EADA,EACAA,OAAQC,EADR,EACQA,UAAWC,EADnB,EACmBA,MAC1B,OACE,gCACGA,GAAS,uCAEV,cAAC,EAAD,CAAWzB,SAAUE,KAAKwB,gBAE1B,6BAAKH,EAAOU,KAAI,gBAAEC,EAAF,EAAEA,GAAIC,EAAN,EAAMA,aAAcC,EAApB,EAAoBA,KAApB,OACf,6BACG,qBAAKC,IAAKD,EAAME,IAAKH,KADfD,QAMRV,GAAa,6FAEbD,EAAOgB,OAAS,IAAMf,GACtB,wBACErB,KAAK,SAASqC,QAAStC,KAAKK,aAD9B,8B,GA/DUD,aCFlBmC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f88cae8f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\n\r\nclass SearchBar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = event => {\r\n    this.setState({query: event.currentTarget.value})\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query)\r\n    this.setState({query: ''})\r\n    // console.log(this.state)\r\n  }\r\n\r\n  render() { \r\n    return ( \r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          \r\n          placeholder=\"Search images and photos\"\r\n          value={this.state.query}\r\n          onChange={this.handleChange}\r\n       />\r\n      </form>\r\n    </header> \r\n);\r\n  }\r\n}\r\n \r\nexport default SearchBar;","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst API_KEY = '19735813-38939a283ca61b34fac8c005d';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst fetchGallery = ({searchQuery = '', currentPage = 1, per_page = 12}) => {\r\n  return axios\r\n  .get(\r\n    `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nfetchGallery.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default {fetchGallery};","import React, { Component } from 'react';\nimport SearchBar from './components/Searchbar/SearchBar';\n\nimport Api from './services/api-service';\n\n\n\n\nclass App extends Component {\nstate = {\n  images: [],\n  currentPage: 1,\n  searchQuery: '',\n  isLoading: false,\n  error: null,\n\n};\n\n// key = '19735813-38939a283ca61b34fac8c005d';\n\ncomponentDidMount()  {\n  \n};\n\ncomponentDidUpdate(prevProps, prevState) {\n  if(prevState.searchQuery !== this.state.searchQuery) {\n    this.fetchGallery();\n  }\n}\n\nonChangeQuery = query => {\n  this.setState({searchQuery: query, currentPage: 1, images: [], error: null,});\n\n\n}\n\n\nfetchGallery = () => {\n  const {currentPage, searchQuery} = this.state;\n  const options = {searchQuery, currentPage};\n\nthis.setState({isLoading: true})\n\n Api.fetchGallery(options).then(hits => { \n            this.setState(prevState => ({\n              images: [...prevState.images, ...hits] ,\n              currentPage: prevState.currentPage + 1,\n            }));\n    }).catch(error => this.setState({error}))\n.finally(() => this.setState({isLoading: false}))\n}\n\n\nrender() {\n  const {images, isLoading, error} = this.state;\n  return (\n    <div>\n      {error && <h1>Error</h1>}\n\n      <SearchBar onSubmit={this.onChangeQuery}/>\n      \n      <ul>{images.map(({id, webformatURL, tags}) =>\n       <li key={id}>\n          <img src={tags} alt={webformatURL} />\n       </li>\n       )}\n       </ul>\n\n       {isLoading && <h2> Загружаем ...</h2>}\n\n       {images.length > 0 && !isLoading && \n       (<button \n          type='button' onClick={this.fetchGallery} >\n          Load more\n        </button>)\n       }\n    </div>\n  )\n    \n}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}