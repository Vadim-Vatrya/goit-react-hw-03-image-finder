{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.jsx","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/pictures-api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","LoaderPage","className","s","loader","type","color","height","width","timeout","Searchbar","state","query","handleSubmit","event","preventDefault","trim","props","onSubmit","setState","toast","error","handleChange","currentTarget","value","this","SearchForm","SearchFormButton","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","onClickImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","pictures","length","map","largeImageURL","fetchPictures","searchQuery","page","per_page","axios","get","then","response","data","hits","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","toggleModal","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","modalPic","App","isLoading","showModal","handleSearchBarSubmit","prevState","catch","finally","scrollToNextPage","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderButton","picIsNotFound","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7b881e23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ibFT\",\"Modal\":\"Modal_Modal__1jLKc\",\"modalPic\":\"Modal_modalPic__oaZPb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1ZD4F\",\"error\":\"App_error__340Lo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2vA09\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3PQK8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1cF1F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__UjTh-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__5noeg\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst LoaderPage = () => {\n  return (\n    <div className={s.loader}>\n      <Loader\n        type=\"TailSpin\"\n         color=\"#00BFFF\" \n         height={80} \n         width={80}\n        timeout={2000}\n      />\n    </div>\n  );\n};\n\nexport default LoaderPage;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.query.trim() === '') {\n      toast.error('Enter anything to search');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  handleChange = event => {\n    this.setState({ query: event.currentTarget.value });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className=\"SearchForm-button-label\">\n              \n            </span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={this.state.query}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClickImage }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={onClickImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ pictures, onClickImage }) => {\n  return (\n    pictures.length > 0 && (\n      <ul className={s.ImageGallery}>\n        {pictures.map(({ webformatURL, tags, largeImageURL }) => (\n          <ImageGalleryItem\n            key={webformatURL}\n            webformatURL={webformatURL}\n            tags={tags}\n            onClickImage={() => onClickImage(largeImageURL)}\n          />\n        ))}\n      </ul>\n    )\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string,\n      // id: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string,\n    }),\n  ),\n  onClickImage: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import axios from 'axios';\n\n\nconst API_KEY = '19735813-38939a283ca61b34fac8c005d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nconst fetchPictures = ({ searchQuery = '', page = 1, per_page = 12 }) => {\n  return axios.get(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data.hits);\n};\nexport default fetchPictures;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\n        <div className={s.Modal}>\n          <img className={s.modalPic} src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport LoaderPage from './components/Loader/Loader';\nimport Searchbar from './components/Searchbar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport fetchPictures from './services/pictures-api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport s from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    \n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ page: 1 });\n      this.fetchPictures();\n    }\n\n    if (prevState.page !== page) {\n      this.scrollToNextPage();\n      \n    }\n  }\n\n  handleSearchBarSubmit = query => {\n    this.setState({ searchQuery: query, page: 1, error: null, pictures: [], });\n  };\n\n  fetchPictures = () => {\n    const { page, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchPictures({ page, searchQuery })\n      .then(hits => {\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollToNextPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickImage = largeImageURL => {\n    this.setState({ largeImageURL: largeImageURL });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      searchQuery,\n      pictures,\n      isLoading,\n      error,\n      showModal,\n      largeImageURL,\n    } = this.state;\n\n    const shouldRenderButton = pictures.length > 0  && !isLoading;\n    const picIsNotFound =\n      searchQuery && pictures.length === 0 && !error && !isLoading;\n\n    return (\n      <div className={s.App}>\n        {error && <p className={s.error}>Something went wrong. Try again</p>}\n        <Searchbar onSubmit={this.handleSearchBarSubmit} />\n\n        {isLoading && <LoaderPage />}\n\n        {showModal && (\n          <Modal largeImageURL={largeImageURL} toggleModal={this.toggleModal} />\n        )}\n\n        { shouldRenderButton && (\n          <ImageGallery pictures={pictures} onClickImage={this.onClickImage} />\n        )}\n\n        {shouldRenderButton && <Button onClick={this.fetchPictures} />}\n\n        {picIsNotFound && (\n          <p className={s.error}>Nothing were found. Enter another query</p>\n        )}\n\n       \n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Crgd\",\"SearchForm\":\"Searchbar_SearchForm__WMpNS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2gsDZ\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__VEdbP\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1L9tW\"};"],"sourceRoot":""}